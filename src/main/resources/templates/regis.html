<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>注册</title>
  <link rel="stylesheet" href="css/login_regis.css">
  <script src="https://apps.bdimg.com/libs/jquery/2.0.0/jquery.min.js"></script>
  <script type="text/javascript">
    $(function () {
        $("#username").blur(function (){
          console.log("1111");
          let username = $("#username").val();
          console.log(username);
          let usernameTemp = /^[a-zA-Z][a-zA-Z0-9_]{4,15}$/;

          if(!usernameTemp.test(username)){
              console.log("当前不符合规则");
              $(".nameError").text("用户名输入不符合规范");
          }else{
            console.log("当前符合规则");
            $(".nameError").text("");
          }
        });

      $("#tel").blur(function (){
        let tel = $("#tel").val();
        console.log(tel);
        let telTemp = /^1(?:3\d|4[4-9]|5[0-35-9]|6[67]|7[013-8]|8\d|9\d)\d{8}$/;

        if(!telTemp.test(tel)){
          $(".telError").text("电话号码输入不符合规范");
        }else{
          $(".telError").text("");
        }
      });



      $("#password").blur(function (){
        let password = $("#password").val();
        console.log(password);
        let passwordTemp = /^[a-zA-Z]\w{5,17}$/;
        if(!passwordTemp.test(password)){
          $(".pwdError").text("密码输入不符合规范");
        }else{
          $(".pwdError").text("");
        }
      });

      $("#rePassword").blur(function (){
        let rePassword = $("#rePassword").val();
        let password = $("#password").val();
        if(password !== rePassword){
          $(".rePwdError").text("两次密码输入不不一致");
        }else{
          $(".rePwdError").text("");
        }
      });

    });
  </script>
</head>
<body>

    <div class="card">
      <div class="card_front">
        <div class="front_right">
          <div class="front_form">
            <h1>注册</h1>
            <form action="/regis" method="post">
              <input type="text" class="text" name="name" id="username" placeholder="请输入用户名" title="用户名以字母开头，且长度在5-16">
              <span class="error nameError"></span>
              <input type="text" class="text" name="tel" id="tel" placeholder="请输入电话号码">
              <span class="error telError"></span>
              <input type="password" class="text" name="password" id="password" placeholder="请输入密码" title="以字母开头，长度在6~18之间，只能包含字母、数字和下划线">
              <span class="error pwdError"></span>
              <input type="password" class="text" name="rePassword" id="rePassword" placeholder="请重复输入密码">
              <span class="error rePwdError"></span>
              <input type="submit" value="注册" class="login">
            </form>

          </div>
          <a class="to_login" href="/toLogin">点击此处前去登录</a>
        </div>
        <div class="back_left"></div>
      </div>
    </div>
</body>
</html>